<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ILO 190 UygulansÄ±n | Ä°mza KampanyasÄ±</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
    <style>
        /* TASARIM (CSS) */
        :root { --primary: #e63946; --dark: #1d3557; --bg: #f8f9fa; }
        body { font-family: 'Inter', sans-serif; margin: 0; padding: 0; background: var(--bg); color: #333; }
        
        .container { display: flex; flex-wrap: wrap; max-width: 1100px; margin: 40px auto; gap: 40px; padding: 20px; }
        
        /* Sol Taraf */
        .petition-area { flex: 2; min-width: 300px; }
        h1 { font-size: 2rem; color: var(--dark); line-height: 1.2; margin-bottom: 20px; }
        .badge { background: #ffe5e5; color: var(--primary); padding: 5px 12px; border-radius: 20px; font-size: 0.8rem; font-weight: bold; }
        .paper { background: white; padding: 40px; border: 1px solid #ddd; border-radius: 8px; font-family: 'Times New Roman', serif; line-height: 1.6; font-size: 1.1rem; }
        
        /* SaÄŸ Taraf Form */
        .form-area { flex: 1; min-width: 300px; }
        .form-card { background: white; padding: 30px; border-radius: 12px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); position: sticky; top: 20px; border-top: 6px solid var(--primary); }
        .input-group { margin-bottom: 15px; }
        .input-group label { display: block; font-size: 0.9rem; font-weight: 600; margin-bottom: 5px; }
        .input-group input { width: 100%; padding: 12px; border: 1px solid #ccc; border-radius: 6px; box-sizing: border-box; }
        
        .kvkk-row { margin: 20px 0; font-size: 0.85rem; display: flex; gap: 10px; }
        .kvkk-link { color: var(--primary); text-decoration: underline; cursor: pointer; font-weight: bold; }
        
        button.sign-btn { width: 100%; background: var(--primary); color: white; border: none; padding: 16px; font-size: 1.2rem; font-weight: 800; border-radius: 6px; cursor: pointer; transition: 0.3s; }
        button.sign-btn:hover { background: #d62828; }
        button.sign-btn:disabled { background: #ccc; cursor: wait; }
        
        /* Modal Stilleri */
        .modal-overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 1000; align-items: center; justify-content: center; backdrop-filter: blur(3px); }
        .modal-box { background: white; width: 90%; max-width: 600px; border-radius: 10px; padding: 0; display: flex; flex-direction: column; max-height: 90vh; }
        .modal-header { padding: 20px; border-bottom: 1px solid #eee; display: flex; justify-content: space-between; align-items: center; }
        .modal-content { padding: 20px; overflow-y: auto; line-height: 1.6; }
        .modal-footer { padding: 20px; border-top: 1px solid #eee; text-align: right; background: #f9f9f9; border-radius: 0 0 10px 10px; }
        .close-btn { cursor: pointer; font-size: 1.5rem; }
        .action-btn { padding: 12px 20px; border-radius: 5px; font-weight: bold; cursor: pointer; border: none; font-size: 1rem; background: #2a9d8f; color: white; }

        @media (max-width: 768px) { .container { flex-direction: column; } }
    </style>
</head>
<body>

    <div class="container">
        <div class="petition-area">
            <span class="badge">#ILO190Ä°mzala</span>
            <h1>Ä°ÅŸ Yerinde Åiddet ve Tacize KarÅŸÄ±: <br>ILO 190 SÃ¶zleÅŸmesi Eksiksiz UygulansÄ±n</h1>
            <div class="paper" id="resmiDilekce">
SayÄ±n Yetkili,

TÃ¼rkiye Cumhuriyeti'nin taraf olduÄŸu ILO 190 sayÄ±lÄ± "Ä°ÅŸ Yerinde Åiddet ve Taciz SÃ¶zleÅŸmesi"nin iÃ§ hukukumuzdaki yansÄ±malarÄ±nÄ±n yetersiz kaldÄ±ÄŸÄ±nÄ± dÃ¼ÅŸÃ¼nmekteyim.

Ã‡alÄ±ÅŸma hayatÄ±nda ÅŸiddet ve tacizin Ã¶nlenmesi, "sÄ±fÄ±r tolerans" ilkesinin benimsenmesi ve denetim mekanizmalarÄ±nÄ±n ILO standartlarÄ±na tam uyumlu hale getirilmesi iÃ§in gerekli yasal dÃ¼zenlemelerin yapÄ±lmasÄ±nÄ± ve denetimlerin artÄ±rÄ±lmasÄ±nÄ±, anayasal dilekÃ§e hakkÄ±m kapsamÄ±nda talep ediyorum.

GereÄŸini bilgilerinize arz ederim.
            </div>
        </div>

        <div class="form-area">
            <div class="form-card">
                <h2>Ä°mzala & CÄ°MER'e GÃ¶nder</h2>
                <p style="color:#666; font-size:0.9rem;">Ä°mzanÄ±z kaydedilecek, dilekÃ§e metni kopyalanacak ve otomatik olarak CÄ°MER aÃ§Ä±lacaktÄ±r.</p>
                
                <form id="campaignForm">
                    <div class="input-group">
                        <label>AdÄ±nÄ±z</label>
                        <input type="text" name="Ad" id="name" required placeholder="AdÄ±nÄ±z">
                    </div>
                    <div class="input-group">
                        <label>SoyadÄ±nÄ±z</label>
                        <input type="text" name="Soyad" id="surname" required placeholder="SoyadÄ±nÄ±z">
                    </div>
                    <div class="input-group">
                        <label>E-posta</label>
                        <input type="email" name="Email" id="email" required placeholder="E-posta">
                    </div>

                    <div class="kvkk-row">
                        <input type="checkbox" id="kvkkCheck" required disabled>
                        <label for="kvkkCheck">
                            <span class="kvkk-link" onclick="openKvkk()">KVKK Metni</span>'ni okudum ve onaylÄ±yorum.
                        </label>
                    </div>

                    <button type="submit" class="sign-btn" id="submitBtn">Ä°MZALA VE CÄ°MER'E GÄ°T</button>
                    <p style="text-align:center; font-size:0.75rem; color:#999; margin-top:10px;">ğŸ”’ Verileriniz 6698 SayÄ±lÄ± KVKK kapsamÄ±nda korunur.</p>
                </form>
            </div>
        </div>
    </div>

    <div id="kvkkModal" class="modal-overlay">
        <div class="modal-box">
            <div class="modal-header">
                <h2>AydÄ±nlatma Metni</h2>
                <span class="close-btn" onclick="closeKvkk()">&times;</span>
            </div>
            <div class="modal-content">
                <p><strong>Veri Sorumlusu:</strong> [ADINIZ SOYADINIZ]</p>
                <p>Bu form aracÄ±lÄ±ÄŸÄ±yla toplanan ad, soyad ve e-posta bilgileriniz, yalnÄ±zca ILO 190 imza kampanyasÄ±nÄ±n takibi amacÄ±yla iÅŸlenmektedir. Verileriniz kampanya sÃ¼reci sonunda imha edilecektir.</p>
            </div>
            <div class="modal-footer">
                <button class="action-btn" onclick="acceptKvkk()">Okudum, OnaylÄ±yorum</button>
            </div>
        </div>
    </div>

    <script>
        // --- AYARLAR ---
        // âš ï¸ 2. E-POSTANI BURAYA YAZ (ajax/ ekli kalmalÄ±)
        const FORM_ENDPOINT = "https://formsubmit.co/ajax/SENIN_EMAIL_ADRESINI_BURAYA_YAZ";
        const CIMER_URL = "https://www.cimer.gov.tr";

        // --- DEÄÄ°ÅKENLER ---
        const modal = document.getElementById('kvkkModal');
        const checkbox = document.getElementById('kvkkCheck');
        const form = document.getElementById('campaignForm');
        const submitBtn = document.getElementById('submitBtn');
        const dilekceMetni = document.getElementById('resmiDilekce').innerText;

        // --- KVKK Ä°ÅLEMLERÄ° ---
        function openKvkk() { modal.style.display = 'flex'; }
        function closeKvkk() { modal.style.display = 'none'; }
        function acceptKvkk() {
            checkbox.disabled = false;
            checkbox.checked = true;
            closeKvkk();
        }

        // --- FORM GÃ–NDERÄ°MÄ° VE YÃ–NLENDÄ°RME (SÄ°HÄ°R BURADA) ---
        form.addEventListener('submit', function(e) {
            e.preventDefault(); // SayfanÄ±n yenilenmesini engelle
            
            submitBtn.disabled = true;
            submitBtn.innerText = "Ä°ÅŸleniyor...";

            // 1. ADIM: Metni Kopyala
            navigator.clipboard.writeText(dilekceMetni).then(() => {
                
                // 2. ADIM: Veriyi Kaydet (Arka planda mail at)
                const formData = new FormData(form);
                fetch(FORM_ENDPOINT, {
                    method: "POST",
                    body: formData
                })
                .then(response => {
                    // 3. ADIM: KullanÄ±cÄ±yÄ± Bilgilendir ve YÃ¶nlendir
                    alert("âœ… Ä°ÅLEM BAÅARILI!\n\n1. DilekÃ§e metni otomatik kopyalandÄ±.\n2. Åimdi CÄ°MER sayfasÄ± aÃ§Ä±lacak.\n3. 'YapÄ±ÅŸtÄ±r' diyerek baÅŸvurunuzu tamamlayÄ±n.");
                    
                    // CÄ°MER'e YÃ¶nlendir
                    window.location.href = CIMER_URL;
                })
                .catch(error => {
                    console.error('Hata:', error);
                    alert("Bir hata oluÅŸtu ama CÄ°MER'e yÃ¶nlendiriliyorsunuz. LÃ¼tfen metni manuel kopyalayÄ±n.");
                    window.location.href = CIMER_URL;
                });

            }).catch(err => {
                // Kopyalama baÅŸarÄ±sÄ±z olsa bile yÃ¶nlendir
                alert("Metin kopyalanamadÄ±! LÃ¼tfen sol taraftaki metni kopyalayÄ±p CÄ°MER'e gidin.");
                window.location.href = CIMER_URL;
            });
        });

        // DÄ±ÅŸarÄ± tÄ±klama
        window.onclick = function(event) { if (event.target == modal) closeKvkk(); }
    </script>
</body>
</html>
